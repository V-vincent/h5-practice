<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Examples</title>
	<meta name="description" content="">
	<meta name="keywords" content="">
	<link href="css/index.css" rel="stylesheet">
</head>

<body>
	<ul class="lottery" id="lottery">
		<li class="middle">开始</li>
	</ul>
</body>
<script src="./js/jquery.js"></script>
<script src="./js/lottery.js" type="text/javascript"></script>
<script type="text/javascript">
	let prizes = ["华为", "iPhone X", "谢谢惠顾", "手环", "格力冰箱", "电风扇", "小度音响", "小熊抱枕"];
	// 生成html
	(function function_name(argument) {
		var html = '';
		for (var i = 0; i < prizes.length; i++) {
			html += "<li class='lottery-unit lottery" + (i + 1) + "'>" + prizes[i] + "</li>";
		}
		$('.lottery').append(html);
	})()

	var award_id = 1;
	award_id = Math.ceil(Math.random() * 8); // 随机，概率相同
	// award_id = rand50(award_id, 1); // 设置其中一个奖品的中奖几率为50%
	// award_id = 3; // 设置抽中的奖品为第3个：谢谢惠顾
	// award_id = differentRand(); // 设置每个奖品的概率都不同
	console.log('中奖：', award_id);

	$('.lottery').lottery({
		index: 0,
		num: 8,
		cycle: 30,
		lucky: award_id,
		speed: 300,
		draw: '.middle'
	});

	function rand50(award, rand50) {
		rand50 = rand50 || 1; // 设置第一个中奖的几率为50%
		if (award <= 4) {
			return rand50;
		} else if (4 < award && award <= 8) {
			return Math.ceil(Math.random() * 8);
		}
	}

	function differentRand() {
		var award = Math.ceil(Math.random() * 100);
		console.log(award);
		if (award <= 1) {
			return 1;
		} else if (1 < award && award <= 3) {
			return 2;
		} else if (3 < award && award <= 53) {
			return 3;
		} else if (53 < award && award <= 60) {
			return 4;
		} else if (60 < award && award <= 70) {
			return 5;
		} else if (70 < award && award <= 84) {
			return 6;
		} else if (84 < award && award <= 89) {
			return 7;
		} else if (89 < award && award <= 100) {
			return 8;
		}
	}
</script>

</html>